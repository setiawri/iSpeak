@using iSpeakWebApp.Controllers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>@Helper.COMPANYNAME</title>
    @Html.Partial("Scripts")
</head>
<body>
    <!-- Main navbar ----------------------------------------------------------------------------------------------------------------------------------->
    <div class="navbar navbar-expand-md navbar-dark">
        <div class="d-md-none">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-mobile">
                <i class="icon-tree5"></i>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbar-mobile">
            <span class="navbar-text ml-md-3 mr-md-auto h1 my-0 py-1">@Helper.COMPANYNAME</span>
            <span class="navbar-text">
            </span>
            <span class="navbar-text">
                @Html.DropDownList("BranchId", new SelectList(BranchSelectLists.get(), "Value", "Text", Helper.getActiveBranchId(Session).ToString()), new { @class = "select2", @onchange = "updateActiveBranch()" })
            </span>
            <ul class="navbar-nav">
                <li class="nav-item dropdown dropdown-user">
                    <a href="#" class="navbar-nav-link dropdown-toggle" data-toggle="dropdown">
                        <img src="@Helper.getImageUrl("profile.png", Request, Server)" class="rounded-circle" alt="">
                        @*<span>@Session[OperatorController.SESSION_Username]</span>*@
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <a href="@Url.Action("ChangePassword", UserAccountsController.CONTROLLERNAME)" class="dropdown-item"><i class="icon-lock2"></i>Change Password</a>
                        <a href="@Url.Action("LogOff", UserAccountsController.CONTROLLERNAME)" class="dropdown-item"><i class="icon-switch2"></i>Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!-- /Main navbar ---------------------------------------------------------------------------------------------------------------------------------->
    <!-- Secondary navbar ------------------------------------------------------------------------------------------------------------------------------>
    <div class="navbar navbar-expand-md navbar-light">
        <div class="text-center d-md-none w-100">
            <button type="button" class="navbar-toggler dropdown-toggle" data-toggle="collapse" data-target="#navbar-navigation">
                <i class="icon-unfold mr-2"></i>
                Main Menu
            </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-navigation">
            <ul class="navbar-nav">
                <li id="Menu_Home" class="nav-item">
                    <a href="@Url.Action("Index", "Home", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-home4 mr-2"></i>Dashboard
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="navbar-nav-link dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-list3 mr-2"></i>
                        Sale
                    </a>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("Index", "Sale", new { rss=1 })" class="dropdown-item">Sale Invoices</a>
                        <a href="@Url.Action("Print", "Payments", new { rss=1 })" class="dropdown-item">Payments</a>
                        <a href="@Url.Action("Index", "Return", new { rss=1 })" class="dropdown-item">Returns</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="navbar-nav-link dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-notebook mr-2"></i>
                        Schedules
                    </a>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("TutorIndex", "Schedules", new { rss=1 })" class="dropdown-item">Tutor</a>
                        <a href="@Url.Action("StudentIndex", "Schedules", new { rss=1 })" class="dropdown-item">Student</a>
                        <a href="@Url.Action("Search", "Schedules", new { rss=1 })" class="dropdown-item">Search</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="@Url.Action("Index", "LessonSessions", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-meter2 mr-2"></i>
                        Sessions
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a href="@Url.Action("Index", "Inventory", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-clipboard6 mr-2"></i>
                        Inventory
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a href="@Url.Action("Index", "PettyCashRecords", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-drawer mr-2"></i>
                        Petty Cash
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="navbar-nav-link dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-stats-bars2 mr-2"></i>
                        Internal
                    </a>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("NewStudent", "Reports", new { rss=1 })" class="dropdown-item">New Student</a>
                        <a href="@Url.Action("Index", "HourlyRates", new { rss=1 })" class="dropdown-item">Payroll Rates</a>
                        <a href="@Url.Action("Index", "Payrolls", new { rss=1 })" class="dropdown-item">New Payroll</a>
                        <a href="@Url.Action("Payroll", "Reports", new { rss=1 })" class="dropdown-item">Payroll</a>
                        <a href="@Url.Action("PayrollPayments", "Reports", new { rss=1 })" class="dropdown-item">Payroll Payments</a>
                        <a href="@Url.Action("ProfitLoss", "Reports", new { rss=1 })" class="dropdown-item">Profit &amp; Loss</a>
                        <a href="@Url.Action("SendEmails", "Reports", new { rss=1 })" class="dropdown-item">Send Emails</a>
                    </div>
                </li>
                <li id="Menu_Settings" class="nav-item dropdown">
                    <a href="#" class="navbar-nav-link dropdown-toggle" data-toggle="dropdown">
                        <i class="icon-gear mr-2"></i>Settings
                    </a>
                    <div class="dropdown-menu">
                        <a href="@Url.Action("Index", "Consignments", new { rss=1 })" class="dropdown-item">General Settings</a>
                        <a href="@Url.Action("Index", "Role", new { rss=1 })" class="dropdown-item">User Roles</a>
                        <a href="@Url.Action("Index", "Branches", new { rss=1 })" class="dropdown-item">Branches</a>
                        <div class="dropdown-submenu">
                            <a href="#" class="dropdown-item dropdown-toggle">Inventory</a>
                            <div class="dropdown-menu">
                                <a href="@Url.Action("Index", "Suppliers", new { rss=1 })" class="dropdown-item">Suppliers</a>
                                <a href="@Url.Action("Index", "Products", new { rss=1 })" class="dropdown-item">Products</a>
                                <a href="@Url.Action("Index", "Units", new { rss=1 })" class="dropdown-item">Units</a>
                            </div>
                        </div>
                        <div class="dropdown-submenu">
                            <a href="#" class="dropdown-item dropdown-toggle">Lessons</a>
                            <div class="dropdown-menu">
                                <a href="@Url.Action("Index", "Languages", new { rss=1 })" class="dropdown-item">Languages</a>
                                <a href="@Url.Action("Index", "LessonTypes", new { rss=1 })" class="dropdown-item">Lesson Types</a>
                                <a href="@Url.Action("Index", "LessonPackages", new { rss=1 })" class="dropdown-item">Lesson Packages</a>
                            </div>
                        </div>
                        <div class="dropdown-submenu">
                            <a href="#" class="dropdown-item dropdown-toggle">Expenses</a>
                            <div class="dropdown-menu">
                                <a href="@Url.Action("Index", "ExpenseCategories", new { rss=1 })" class="dropdown-item">Expense Categories</a>
                                <a href="@Url.Action("Index", "Expenses", new { rss=1 })" class="dropdown-item">Expenses</a>
                            </div>
                        </div>
                        <a href="@Url.Action("Index", "Consignments", new { rss=1 })" class="dropdown-item">Consignments</a>
                        <a href="@Url.Action("Index", "Vouchers", new { rss=1 })" class="dropdown-item">Vouchers</a>
                        <a href="@Url.Action("Index", "Services", new { rss=1 })" class="dropdown-item">Services</a>
                        <a href="@Url.Action("Index", "PettyCashRecordsCategories", new { rss=1 })" class="dropdown-item">Petty Cash Categories</a>
                        <a href="@Url.Action("Index", "PromotionEvents", new { rss=1 })" class="dropdown-item">Promotion Events</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a href="@Url.Action("Index", "User", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-users2 mr-2"></i>
                        Accounts
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a href="@Url.Action("Index", "Files", new { rss=1 })" class="navbar-nav-link">
                        <i class="icon-file-upload2 mr-2"></i>
                        Files
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <!-- /Secondary navbar ----------------------------------------------------------------------------------------------------------------------------->
    <!-- Page content ---------------------------------------------------------------------------------------------------------------------------------->
    <div class="page-content">
        <!-- Main content -->
        @RenderBody()
        <!-- /main content -->
    </div>
    <!-- /Page content --------------------------------------------------------------------------------------------------------------------------------->
    <!-- Footer ---------------------------------------------------------------------------------------------------------------------------------------->
    <div class="navbar navbar-expand-lg navbar-light">
        <div class="text-center d-lg-none w-100">
            <button type="button" class="navbar-toggler dropdown-toggle" data-toggle="collapse" data-target="#navbar-footer">
                <i class="icon-unfold mr-2"></i>
                Footer
            </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-footer">
            <span class="navbar-text">
                &copy; @DateTime.UtcNow.Year - @Helper.COMPANYNAME
            </span>
        </div>
        <div class="mt-2">
            <span class="badge badge-primary ml-2 px-2">
                <a href='@LIBUtil.Util.getApplicationPath(Request, "/User Manual - Payroll and Reimbursement.pdf")' class="text-white" target="_blank">MANUAL</a>
            </span>
            <span class="badge badge-success ml-2">@Helper.APP_VERSION</span>
        </div>
    </div>
    <!-- /Footer --------------------------------------------------------------------------------------------------------------------------------------->

</body>
</html>

@Html.Partial("Javascripts")

<script type="text/javascript">

    function updateActiveBranch() {
        $.ajax({
            type: "POST",
            url: '@Url.Action("UpdateActiveBranch", "UserAccounts")',
            data: {
                BranchId: $('#BranchId').val(),
                returnUrl: window.location.pathname
            },
            error: function (result) {
                bootbox.alert({ backdrop: true, message: "Error " + result });
            } //end error
        }); //end ajax
    }

    function getActiveBranchId() {
        return $('#BranchId').val();
    }

</script>
